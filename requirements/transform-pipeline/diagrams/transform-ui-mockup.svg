<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.1"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1200" height="900" fill="#f1f5f9"/>

  <!-- Title -->
  <text x="600" y="35" font-family="system-ui, sans-serif" font-size="20" font-weight="bold" fill="#1e293b" text-anchor="middle">Transform Pipeline Editor - UI Mockup</text>

  <!-- Main Container -->
  <rect x="30" y="55" width="1140" height="830" rx="12" fill="white" filter="url(#shadow)"/>

  <!-- Header -->
  <rect x="30" y="55" width="1140" height="50" rx="12" fill="#1e293b"/>
  <rect x="30" y="85" width="1140" height="20" fill="#1e293b"/>
  <text x="55" y="87" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="white">Transform Pipeline</text>
  <text x="200" y="87" font-family="system-ui, sans-serif" font-size="12" fill="#94a3b8">Hobbitify Experience</text>

  <!-- Tab Navigation -->
  <rect x="30" y="105" width="1140" height="40" fill="#f8fafc"/>
  <rect x="30" y="105" width="140" height="40" fill="white"/>
  <text x="100" y="130" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#1e293b" text-anchor="middle">Media Library</text>
  <rect x="170" y="105" width="140" height="40" fill="#f8fafc"/>
  <text x="240" y="130" font-family="system-ui, sans-serif" font-size="12" fill="#64748b" text-anchor="middle">Variables</text>
  <rect x="310" y="105" width="140" height="40" fill="#f8fafc"/>
  <text x="380" y="130" font-family="system-ui, sans-serif" font-size="12" fill="#64748b" text-anchor="middle">Pipeline</text>

  <!-- Active tab indicator -->
  <rect x="30" y="143" width="140" height="2" fill="#3b82f6"/>

  <!-- Left Panel: Media Registry -->
  <rect x="45" y="160" width="350" height="705" rx="8" fill="#f8fafc" stroke="#e2e8f0"/>

  <text x="65" y="190" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#1e293b">Media Registry</text>
  <text x="65" y="208" font-family="system-ui, sans-serif" font-size="11" fill="#64748b">All images available for prompts</text>

  <!-- Add Media Button -->
  <rect x="310" y="175" width="70" height="28" rx="6" fill="#3b82f6"/>
  <text x="345" y="194" font-family="system-ui, sans-serif" font-size="11" font-weight="500" fill="white" text-anchor="middle">+ Add</text>

  <!-- Media Items -->
  <!-- Captured Media Section -->
  <text x="65" y="245" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#64748b">CAPTURED MEDIA</text>

  <rect x="55" y="255" width="330" height="70" rx="6" fill="white" stroke="#22c55e" stroke-width="2"/>
  <rect x="65" y="265" width="50" height="50" rx="4" fill="#dcfce7"/>
  <text x="90" y="295" font-family="system-ui, sans-serif" font-size="20" fill="#22c55e" text-anchor="middle">ğŸ“·</text>
  <text x="130" y="285" font-family="system-ui, sans-serif" font-size="12" font-weight="500" fill="#1e293b">user_photo</text>
  <text x="130" y="302" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">From: Photo Capture step</text>
  <rect x="130" y="308" width="80" height="18" rx="3" fill="#dcfce7"/>
  <text x="170" y="320" font-family="system-ui, sans-serif" font-size="9" fill="#15803d" text-anchor="middle">&lt;user_photo&gt;</text>

  <!-- Static Assets Section -->
  <text x="65" y="355" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#64748b">REFERENCE IMAGES</text>

  <!-- Cat -->
  <rect x="55" y="365" width="330" height="60" rx="6" fill="white" stroke="#e2e8f0"/>
  <rect x="65" y="375" width="40" height="40" rx="4" fill="#fef3c7"/>
  <text x="85" y="400" font-family="system-ui, sans-serif" font-size="16" fill="#d97706" text-anchor="middle">ğŸ±</text>
  <text x="120" y="392" font-family="system-ui, sans-serif" font-size="12" font-weight="500" fill="#1e293b">cat</text>
  <text x="120" y="408" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">cat-reference.jpg</text>
  <rect x="280" y="385" width="55" height="18" rx="3" fill="#f1f5f9"/>
  <text x="307" y="397" font-family="system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">&lt;cat&gt;</text>
  <text x="350" y="397" font-family="system-ui, sans-serif" font-size="14" fill="#94a3b8" text-anchor="middle">â‹®</text>

  <!-- Dog -->
  <rect x="55" y="435" width="330" height="60" rx="6" fill="white" stroke="#e2e8f0"/>
  <rect x="65" y="445" width="40" height="40" rx="4" fill="#fef3c7"/>
  <text x="85" y="470" font-family="system-ui, sans-serif" font-size="16" fill="#d97706" text-anchor="middle">ğŸ•</text>
  <text x="120" y="462" font-family="system-ui, sans-serif" font-size="12" font-weight="500" fill="#1e293b">dog</text>
  <text x="120" y="478" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">dog-reference.jpg</text>
  <rect x="280" y="455" width="55" height="18" rx="3" fill="#f1f5f9"/>
  <text x="307" y="467" font-family="system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">&lt;dog&gt;</text>
  <text x="350" y="467" font-family="system-ui, sans-serif" font-size="14" fill="#94a3b8" text-anchor="middle">â‹®</text>

  <!-- Hobbiton -->
  <rect x="55" y="505" width="330" height="60" rx="6" fill="white" stroke="#e2e8f0"/>
  <rect x="65" y="515" width="40" height="40" rx="4" fill="#dcfce7"/>
  <text x="85" y="540" font-family="system-ui, sans-serif" font-size="16" fill="#22c55e" text-anchor="middle">ğŸ¡</text>
  <text x="120" y="532" font-family="system-ui, sans-serif" font-size="12" font-weight="500" fill="#1e293b">hobbiton</text>
  <text x="120" y="548" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">hobbiton-bg.jpg</text>
  <rect x="280" y="525" width="75" height="18" rx="3" fill="#f1f5f9"/>
  <text x="317" y="537" font-family="system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">&lt;hobbiton&gt;</text>
  <text x="370" y="537" font-family="system-ui, sans-serif" font-size="14" fill="#94a3b8" text-anchor="middle">â‹®</text>

  <!-- Art Style -->
  <rect x="55" y="575" width="330" height="60" rx="6" fill="white" stroke="#e2e8f0"/>
  <rect x="65" y="585" width="40" height="40" rx="4" fill="#ede9fe"/>
  <text x="85" y="610" font-family="system-ui, sans-serif" font-size="16" fill="#7c3aed" text-anchor="middle">ğŸ¨</text>
  <text x="120" y="602" font-family="system-ui, sans-serif" font-size="12" font-weight="500" fill="#1e293b">art_style</text>
  <text x="120" y="618" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">fantasy-style.jpg</text>
  <rect x="280" y="595" width="70" height="18" rx="3" fill="#f1f5f9"/>
  <text x="315" y="607" font-family="system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">&lt;art_style&gt;</text>
  <text x="365" y="607" font-family="system-ui, sans-serif" font-size="14" fill="#94a3b8" text-anchor="middle">â‹®</text>

  <!-- Usage hint -->
  <rect x="55" y="655" width="330" height="50" rx="6" fill="#dbeafe" stroke="#3b82f6"/>
  <text x="75" y="677" font-family="system-ui, sans-serif" font-size="10" fill="#1e40af">ğŸ’¡ Tip: Use &lt;label&gt; in your prompt or variable</text>
  <text x="75" y="693" font-family="system-ui, sans-serif" font-size="10" fill="#1e40af">text to include these images.</text>

  <!-- Right Panel: Variable Editor -->
  <rect x="415" y="160" width="420" height="705" rx="8" fill="#f8fafc" stroke="#e2e8f0"/>

  <text x="435" y="190" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#1e293b">Variable Mappings</text>
  <text x="435" y="208" font-family="system-ui, sans-serif" font-size="11" fill="#64748b">Map step answers to prompt text</text>

  <!-- Add Variable Button -->
  <rect x="740" y="175" width="80" height="28" rx="6" fill="#3b82f6"/>
  <text x="780" y="194" font-family="system-ui, sans-serif" font-size="11" font-weight="500" fill="white" text-anchor="middle">+ Variable</text>

  <!-- Variable: pet -->
  <rect x="425" y="230" width="400" height="200" rx="8" fill="white" stroke="#d97706" stroke-width="2"/>

  <rect x="425" y="230" width="400" height="35" rx="8" fill="#fef3c7"/>
  <rect x="425" y="250" width="400" height="15" fill="#fef3c7"/>
  <text x="445" y="253" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#92400e">{{pet}}</text>
  <text x="510" y="253" font-family="system-ui, sans-serif" font-size="10" fill="#b45309">â† Pet Choice step</text>
  <text x="800" y="253" font-family="system-ui, sans-serif" font-size="14" fill="#94a3b8" text-anchor="middle">â‹®</text>

  <text x="445" y="285" font-family="system-ui, sans-serif" font-size="10" font-weight="500" fill="#64748b">VALUE MAPPINGS</text>

  <!-- Mapping entries -->
  <rect x="435" y="295" width="380" height="35" rx="4" fill="#f8fafc"/>
  <text x="450" y="310" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">When</text>
  <rect x="480" y="300" width="50" height="22" rx="3" fill="white" stroke="#e2e8f0"/>
  <text x="505" y="315" font-family="system-ui, sans-serif" font-size="10" fill="#1e293b" text-anchor="middle">cat</text>
  <text x="545" y="310" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">â†’</text>
  <rect x="560" y="300" width="240" height="22" rx="3" fill="white" stroke="#22c55e"/>
  <text x="575" y="315" font-family="system-ui, sans-serif" font-size="9" fill="#1e293b">holding a cat (see &lt;cat&gt;)</text>

  <rect x="435" y="335" width="380" height="35" rx="4" fill="#f8fafc"/>
  <text x="450" y="350" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">When</text>
  <rect x="480" y="340" width="50" height="22" rx="3" fill="white" stroke="#e2e8f0"/>
  <text x="505" y="355" font-family="system-ui, sans-serif" font-size="10" fill="#1e293b" text-anchor="middle">dog</text>
  <text x="545" y="350" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">â†’</text>
  <rect x="560" y="340" width="240" height="22" rx="3" fill="white" stroke="#e2e8f0"/>
  <text x="575" y="355" font-family="system-ui, sans-serif" font-size="9" fill="#1e293b">holding a dog (see &lt;dog&gt;)</text>

  <rect x="435" y="375" width="380" height="35" rx="4" fill="#f8fafc"/>
  <text x="450" y="390" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">When</text>
  <rect x="480" y="380" width="50" height="22" rx="3" fill="white" stroke="#e2e8f0"/>
  <text x="505" y="395" font-family="system-ui, sans-serif" font-size="10" fill="#1e293b" text-anchor="middle">none</text>
  <text x="545" y="390" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">â†’</text>
  <rect x="560" y="380" width="240" height="22" rx="3" fill="white" stroke="#e2e8f0"/>
  <text x="575" y="395" font-family="system-ui, sans-serif" font-size="9" fill="#1e293b">with empty hands</text>

  <!-- Add mapping button -->
  <rect x="435" y="415" width="100" height="22" rx="4" fill="white" stroke="#e2e8f0" stroke-dasharray="4"/>
  <text x="485" y="430" font-family="system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">+ Add mapping</text>

  <!-- Variable: phrase (pass-through) -->
  <rect x="425" y="450" width="400" height="80" rx="8" fill="white" stroke="#e2e8f0"/>

  <rect x="425" y="450" width="400" height="35" rx="8" fill="#f1f5f9"/>
  <rect x="425" y="470" width="400" height="15" fill="#f1f5f9"/>
  <text x="445" y="473" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#475569">{{phrase}}</text>
  <text x="520" y="473" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">â† Phrase Input step</text>
  <text x="800" y="473" font-family="system-ui, sans-serif" font-size="14" fill="#94a3b8" text-anchor="middle">â‹®</text>

  <rect x="435" y="495" width="120" height="25" rx="4" fill="#f8fafc"/>
  <text x="495" y="512" font-family="system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Pass-through</text>
  <text x="570" y="512" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">Raw value used directly</text>

  <!-- Prompt Preview Panel -->
  <rect x="855" y="160" width="300" height="705" rx="8" fill="#f8fafc" stroke="#e2e8f0"/>

  <text x="875" y="190" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#1e293b">Prompt Template</text>

  <!-- Prompt editor -->
  <rect x="865" y="210" width="280" height="200" rx="6" fill="white" stroke="#e2e8f0"/>

  <text x="880" y="235" font-family="system-ui, sans-serif" font-size="10" fill="#1e293b">Transform the person in</text>
  <rect x="880" y="242" width="85" height="18" rx="3" fill="#dcfce7"/>
  <text x="922" y="255" font-family="system-ui, sans-serif" font-size="9" fill="#15803d" text-anchor="middle">&lt;user_photo&gt;</text>

  <text x="880" y="280" font-family="system-ui, sans-serif" font-size="10" fill="#1e293b">into a hobbit character.</text>

  <text x="880" y="305" font-family="system-ui, sans-serif" font-size="10" fill="#1e293b">They should be</text>
  <rect x="970" y="292" width="50" height="18" rx="3" fill="#fef3c7"/>
  <text x="995" y="305" font-family="system-ui, sans-serif" font-size="9" fill="#92400e" text-anchor="middle">{{pet}}</text>
  <text x="1025" y="305" font-family="system-ui, sans-serif" font-size="10" fill="#1e293b">.</text>

  <text x="880" y="330" font-family="system-ui, sans-serif" font-size="10" fill="#1e293b">Use</text>
  <rect x="900" y="317" width="70" height="18" rx="3" fill="#dcfce7"/>
  <text x="935" y="330" font-family="system-ui, sans-serif" font-size="9" fill="#15803d" text-anchor="middle">&lt;art_style&gt;</text>
  <text x="980" y="330" font-family="system-ui, sans-serif" font-size="10" fill="#1e293b">as reference.</text>

  <text x="880" y="355" font-family="system-ui, sans-serif" font-size="10" fill="#1e293b">Add text:</text>
  <rect x="935" y="342" width="60" height="18" rx="3" fill="#fef3c7"/>
  <text x="965" y="355" font-family="system-ui, sans-serif" font-size="9" fill="#92400e" text-anchor="middle">{{phrase}}</text>

  <!-- Insert buttons -->
  <rect x="865" y="420" width="135" height="28" rx="6" fill="#fef3c7" stroke="#d97706"/>
  <text x="932" y="439" font-family="system-ui, sans-serif" font-size="10" fill="#92400e" text-anchor="middle">+ Insert Variable</text>

  <rect x="1010" y="420" width="135" height="28" rx="6" fill="#dcfce7" stroke="#22c55e"/>
  <text x="1077" y="439" font-family="system-ui, sans-serif" font-size="10" fill="#15803d" text-anchor="middle">+ Insert Image</text>

  <!-- Preview Section -->
  <text x="875" y="480" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#1e293b">Preview (cat selected)</text>

  <rect x="865" y="495" width="280" height="120" rx="6" fill="#1e293b"/>
  <text x="880" y="520" font-family="monospace" font-size="9" fill="#94a3b8">Resolved prompt:</text>
  <text x="880" y="540" font-family="monospace" font-size="8" fill="#22c55e">"Transform the person in &lt;user_photo&gt;</text>
  <text x="880" y="555" font-family="monospace" font-size="8" fill="#22c55e">into a hobbit. They should be holding</text>
  <text x="880" y="570" font-family="monospace" font-size="8" fill="#22c55e">a cat (see &lt;cat&gt;). Use &lt;art_style&gt;..."</text>

  <text x="880" y="600" font-family="monospace" font-size="9" fill="#94a3b8">Images to send:</text>
  <text x="950" y="600" font-family="monospace" font-size="9" fill="#3b82f6">3</text>
  <text x="965" y="600" font-family="monospace" font-size="8" fill="#64748b">(user_photo, cat, art_style)</text>

  <!-- Validation -->
  <rect x="865" y="630" width="280" height="60" rx="6" fill="#dcfce7" stroke="#22c55e"/>
  <text x="895" y="655" font-family="system-ui, sans-serif" font-size="11" fill="#15803d">âœ“ All variables mapped</text>
  <text x="895" y="675" font-family="system-ui, sans-serif" font-size="11" fill="#15803d">âœ“ All image refs exist in registry</text>

  <!-- Save Button -->
  <rect x="865" y="710" width="280" height="40" rx="8" fill="#3b82f6"/>
  <text x="1005" y="735" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="white" text-anchor="middle">Save Transform Config</text>

  <!-- Legend -->
  <rect x="45" y="720" width="330" height="130" rx="6" fill="white" stroke="#e2e8f0"/>
  <text x="65" y="745" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#1e293b">Legend</text>

  <rect x="65" y="755" width="60" height="18" rx="3" fill="#fef3c7"/>
  <text x="95" y="768" font-family="system-ui, sans-serif" font-size="9" fill="#92400e" text-anchor="middle">{{var}}</text>
  <text x="140" y="768" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">Text variable</text>

  <rect x="65" y="780" width="60" height="18" rx="3" fill="#dcfce7"/>
  <text x="95" y="793" font-family="system-ui, sans-serif" font-size="9" fill="#15803d" text-anchor="middle">&lt;label&gt;</text>
  <text x="140" y="793" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">Image reference</text>

  <text x="65" y="825" font-family="system-ui, sans-serif" font-size="9" fill="#64748b">Images are only sent to LLM when</text>
  <text x="65" y="840" font-family="system-ui, sans-serif" font-size="9" fill="#64748b">referenced in the resolved prompt.</text>
</svg>