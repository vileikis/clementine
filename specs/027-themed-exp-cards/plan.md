# Implementation Plan: Themed Experience Cards

**Branch**: `027-themed-exp-cards` | **Date**: 2026-01-15 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/027-themed-exp-cards/spec.md`

## Summary

Refactor the `ExperienceCard` component to use the guest-facing theming system (`src/shared/theming/`) for styling and simplify its content to show only experience media and name. This ensures experience cards in the WelcomePreview match the creator's configured theme colors (primary color, text color, background) while providing a cleaner, more focused display without profile badges or metadata.

## Technical Context

**Language/Version**: TypeScript 5.7.2 (strict mode, ES2022 target)
**Primary Dependencies**: React 19.2.0, TanStack Start 1.132.0, Tailwind CSS v4
**Storage**: N/A (no data changes - uses existing Experience and Theme entities)
**Testing**: Vitest
**Target Platform**: Web (mobile-first responsive)
**Project Type**: Web application (TanStack Start)
**Performance Goals**: Instant theme updates on context change
**Constraints**: Must render within ThemeProvider context in WelcomePreview
**Scale/Scope**: Single component refactor affecting 1 file + potential test file

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

### Principle I: Mobile-First Design ✅
- ExperienceCard already supports both list and grid layouts for mobile
- Touch targets maintained (min 44x44px per FR-008)
- No changes to responsive behavior

### Principle II: Clean Code & Simplicity ✅
- Refactoring existing component (not adding new abstraction)
- Removing complexity (ProfileBadge import, metadata display)
- Using existing theming primitives (ThemedText, useThemeWithOverride)

### Principle III: Type-Safe Development ✅
- TypeScript strict mode maintained
- Theme type already defined in Zod schemas
- No new types needed (reusing existing Theme, Experience types)

### Principle IV: Minimal Testing Strategy ✅
- Unit tests for themed styling behavior
- Visual verification in WelcomePreview

### Principle V: Validation Gates ✅
- Run `pnpm app:check` before commit
- Standards compliance: Uses design system tokens via theming system

### Principle VI: Frontend Architecture ✅
- Client-first (uses React context for theming)
- No server code changes

### Principle VII: Backend & Firebase ✅
- N/A - No backend changes

### Principle VIII: Project Structure ✅
- Modifying existing component in correct domain location
- No new files outside existing structure

**Gate Status**: ✅ PASS - No violations identified

## Project Structure

### Documentation (this feature)

```text
specs/027-themed-exp-cards/
├── spec.md              # Feature specification
├── plan.md              # This file
├── research.md          # Phase 0 output
├── data-model.md        # Phase 1 output (minimal - no schema changes)
├── quickstart.md        # Phase 1 output
├── contracts/           # Phase 1 output
│   └── components.md    # Component API contract
└── tasks.md             # Phase 2 output (generated by /speckit.tasks)
```

### Source Code (repository root)

```text
apps/clementine-app/src/
├── domains/event/experiences/
│   ├── components/
│   │   └── ExperienceCard.tsx     # PRIMARY: Refactor for theming
│   └── index.ts                   # Re-exports (no changes expected)
├── domains/event/welcome/
│   └── components/
│       └── WelcomePreview.tsx     # CONTEXT: Uses ExperienceCard
└── shared/theming/
    ├── components/
    │   └── primitives/
    │       └── ThemedText.tsx     # REFERENCE: Use for text styling
    ├── hooks/
    │   └── useThemeWithOverride.ts # REFERENCE: Use for theme access
    └── types/
        └── theme.types.ts         # REFERENCE: Theme type definition
```

**Structure Decision**: Single component refactor within existing vertical slice architecture. No new modules or structural changes.

## Complexity Tracking

> No violations identified - section not required.
